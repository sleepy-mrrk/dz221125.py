import telebot
import os
from random import choice
from settings import TG_API_TOKEN

bot = telebot.TeleBot(TG_API_TOKEN)

LINKS = [
    "https://youtu.be/nk4QLVUSU6s",
    "https://youtu.be/1VJyN7yUgFY",
    "https://youtu.be/a3qbELMsQTM",
    "https://youtu.be/lTGn5HI5wFg",
    "https://youtu.be/nStV07BrD-Q"
]

print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω")

@bot.message_handler(commands=['start'])
def start_command(message):
    text = (
        f'–ü—Ä–∏–≤–µ—Ç, {message.from_user.first_name}!üí´\n'
        'üçÉ–ï—Å–ª–∏ —Ç—ã –∑–¥–µ—Å—å, –∑–Ω–∞—á–∏—Ç, —Ç—ã —É–≤–ª–µ–∫–∞–µ—à—å—Å—è —ç–∫–æ–ª–æ–≥–∏–µ–π! –ü–æ—Ö–≤–∞–ª—å–Ω–æ. (. ‚ùõ ·¥ó ‚ùõ.) –¢—É—Ç –µ—Å—Ç—å —Ç–∞–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã:\n'
        'ü•¨–ö–æ–º–∞–Ω–¥–∞ /meme ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π –º–µ–º\n'
        'üåø–ö–æ–º–∞–Ω–¥–∞ /link ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é —Å—Å—ã–ª–∫—É\n'
        'üçÇ–ö–æ–º–∞–Ω–¥–∞ /info ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ—Ç–µ\n'
    )
    bot.send_message(message.chat.id, text)

@bot.message_handler(commands=['meme'])
def send_meme(message):
    files = os.listdir('images')
    random_file = choice(files)
    with open(f'images/{random_file}', 'rb') as f:
        bot.send_photo(message.chat.id, f)

@bot.message_handler(commands=['info'])
def send_info(message):
    text = (
        "–≠—Ç–æ—Ç –±–æ—Ç –ø–æ–º–æ–≥–∞–µ—Ç –¥–µ–ª–∞—Ç—å –º–∞–ª–µ–Ω—å–∫–∏–µ eco-—à–∞–≥–∏ –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –∏ –ø—Ä–æ—Å—Ç—ã–º–∏.\n\n"
        "–ó–¥–µ—Å—å –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å:\n"
        "‚Ä¢ –ü–æ–ª–µ–∑–Ω—ã–µ –≤–∏–¥–µ–æ –æ —ç–∫–æ–ª–æ–≥–∏–∏ —Å YouTube\n"
        "‚Ä¢ –û—Å—Ç—Ä–æ—É–º–Ω—ã–µ –º–µ–º—ã –Ω–∞ —Ç–µ–º—É –∑–∞–±–æ—Ç—ã –æ –ø—Ä–∏—Ä–æ–¥–µ\n\n"
        "–ë–æ—Ç –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ —Å–Ω–∏–∂–∞—Ç—å –º—É—Å–æ—Ä, —ç–∫–æ–Ω–æ–º–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã –∏ –æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è –∫ –ø–ª–∞–Ω–µ—Ç–µ —á—É—Ç—å –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ."
    )
    bot.send_message(message.chat.id, text)




@bot.message_handler(commands=['link'])
def send_link(message):
    if not LINKS:
        bot.send_message(message.chat.id, '–°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ –ø—É—Å—Ç.')
    else:
        bot.send_message(message.chat.id, choice(LINKS))

bot.infinity_polling()
